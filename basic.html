<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Interview Feedback Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial, sans-serif; background: #f6f8fa; margin: 0; padding: 2em; }
        .container { max-width: 600px; margin: auto; background: #fff; padding: 2em; border-radius: 8px; box-shadow: 0 0 15px #ddd; }
        h1 { text-align: center; }
        .feedback { background: #f1f8e9; border-left: 3px solid #8bc34a; padding: 1em; margin-top: 1em; border-radius: 6px; }
        textarea { width: 100%; min-height: 80px; margin-top: 1em; padding: 0.5em; }
        button { margin-top: 1em; padding: 0.6em 1.2em; border: none; background: #1976d2; color: #fff; border-radius: 4px; cursor: pointer; font-size: 1em; }
        button:disabled { background: #aaa; }
        .recording { color: #d32f2f; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI-Powered Interview Feedback</h1>
        <p>Answer the question below by typing or using your voice.</p>
        <strong>Interview Question:</strong>
        <div id="question">Tell me about yourself.</div>
        <textarea id="answer" placeholder="Type your answer or use the microphone..."></textarea>
        <br>
        <button id="recordBtn">ðŸŽ¤ Start Recording</button>
        <span id="recStatus"></span>
        <br>
        <button id="submitBtn">Get AI Feedback</button>
        <div id="feedback"></div>
    </div>
    <script>
    // Voice recording using Web Speech API
    let recognizing = false;
    let recognition;
    const recordBtn = document.getElementById('recordBtn');
    const recStatus = document.getElementById('recStatus');
    const answerField = document.getElementById('answer');

    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = 'en-US';

        recognition.onstart = function() {
            recognizing = true;
            recStatus.textContent = 'Recording...';
            recordBtn.textContent = 'ðŸ›‘ Stop Recording';
        };
        recognition.onresult = function(event) {
            const transcript = event.results[0][0].transcript;
            answerField.value += (answerField.value ? '\n' : '') + transcript;
        };
        recognition.onend = function() {
            recognizing = false;
            recStatus.textContent = '';
            recordBtn.textContent = 'ðŸŽ¤ Start Recording';
        };
        recognition.onerror = function(e) {
            recStatus.textContent = 'Error: ' + e.error;
            recordBtn.textContent = 'ðŸŽ¤ Start Recording';
        };

        recordBtn.onclick = function() {
            if (recognizing) {
                recognition.stop();
            } else {
                recognition.start();
            }
        };
    } else {
        recordBtn.disabled = true;
        recStatus.textContent = 'Voice recording not supported on this browser.';
    }

    // Simulate AI feedback
    function getAIFeedback(answer) {
        // In real application, this would be a POST to your backend API
        // Here we simulate basic feedback
        if (!answer.trim()) {
            return "Please provide an answer to get feedback.";
        }
        let feedback = "<strong>AI Feedback:</strong><ul>";
        if (answer.length < 50) feedback += "<li>Your answer is a bit short. Try giving more detail or examples.</li>";
        if (/confident|motivated|team|learn/i.test(answer)) feedback += "<li>Great use of positive keywords!</li>";
        if (/um|uh|like/i.test(answer)) feedback += "<li>Try to avoid filler words for a stronger impression.</li>";
        feedback += "<li>Speak clearly and structure your answer logically (e.g., background, skills, motivation).</li>";
        feedback += "</ul>";
        return feedback;
    }

    document.getElementById('submitBtn').onclick = function() {
        const answer = answerField.value;
        const feedbackDiv = document.getElementById('feedback');
        feedbackDiv.innerHTML = '';
        setTimeout(() => {
            const feedback = getAIFeedback(answer);
            feedbackDiv.innerHTML = '<div class="feedback">' + feedback + '</div>';
        }, 600); // Simulate processing delay
    };
    </script>
</body>
</html>